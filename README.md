<style>
  .button {
  background-color: #555555; /* Green */
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
}
</style>

<div align=center><h1>ENCORE PLAYDATA FINAL PROJECT</h1>
 <h3>ë”¥ëŸ¬ë‹ ê¸°ë°˜ ê²½êµ¬ì•½ì œ ì´ë¯¸ì§€ ì¸ì‹ ë° ì •ë³´ ì œê³µ ì„œë¹„ìŠ¤</h3>
</div>

<div align=center><h2>TEAM F4</h2></div>
<div align=center><h3>ë°•ê¸°ì˜ ê°•í˜¸ì • ì„œë•ì› ìœ ì¤€ì„ </h2>

  ë°•ê¸°ì˜(íŒ€ì¥) <br>
  ê°œë°œ ë° ê¸°íš ì´ê´„, ë°ì´í„° íŒŒì´í”„ë¼ì¸ êµ¬ì¶•, ë²¡ì—”ë“œ(main)backend <br>
  ê°•í˜¸ì • <br>
  image ì „ì²˜ë¦¬ , ì™¸ë¶€ ì •ë³´ ê´€ë¦¬ ë° ì „ì²˜ë¦¬ , backend  ,frontend(sub) <br>
  ì„œë•ì› <br>
  model ì„±ëŠ¥ ê°œì„  , image ì „ì²˜ë¦¬ , model í•™ìŠµ <br>
  ìœ ì¤€ì„  <br>
  frontend , json data -> csv ë³€í™˜ , dataì „ì²˜ë¦¬

</div>

<div align=center><h2>ğŸ“š STACKS</h2></div>

<div align=center> 
  <img src="https://img.shields.io/badge/fastapi-009688?style=for-the-badge&logo=fastapi&logoColor=white"> 
  <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> 
  <img src="https://img.shields.io/badge/css3-1572B6?style=for-the-badge&logo=css3&logoColor=white"> 
  <img src="https://img.shields.io/badge/js-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> 
  <img src="https://img.shields.io/badge/docker-2496ED?style=for-the-badge&logo=docker&logoColor=black"> 
  <img src="https://img.shields.io/badge/bash-4EAA25?style=for-the-badge&logo=gnubash&logoColor=black"> 
  <br>
  
  <img src="https://img.shields.io/badge/google Cloud-4285F4?style=for-the-badge&logo=googlecloud&logoColor=white"> 
  <img src="https://img.shields.io/badge/google colab-F9AB00?style=for-the-badge&logo=googlecolab&logoColor=white"> 
  <img src="https://img.shields.io/badge/sqlite-003B57?style=for-the-badge&logo=sqlite&logoColor=white"> 
  <img src="https://img.shields.io/badge/yolov5-00FFFF?style=for-the-badge&logo=yolo&logoColor=white">
</div>

<div align=center><h2>INTRODUCTION TO PRODUCT</h2>
  <button href="https://www.canva.com/design/DAFqcupnsGU/9FgB-cWTKufkZOWAvJNH9g/view?utm_content=DAFqcupnsGU&utm_campaign=designshare&utm_medium=link&utm_source=publishsharelink" class="button">Link to Presentation</button>
</div>



## ì£¼ì œ ì„¤ëª… 
### ì„ ì • ë°°ê²½ 
1. ê¾¸ì¤€íˆ ì•½ì„ ë³µìš©í•˜ëŠ” ì‚¬ëŒë“¤ì€ ì•½êµ­ì—ì„œ íŒŒëŠ” ì¼ë°˜ì˜ì•½í’ˆì„ ë¨¹ì–´ë„ ë˜ëŠ”ì§€ ì˜ ëª¨ë¦„
2. ì¤‘Â·ì¥ë…„ì¸µë“¤ì€ ë…¸í™”ì— ë”°ë¼ë³µìš©í•˜ëŠ” ì•½ì´ ì ì  ë§ì•„ì§
3. ì—¬ëŸ¬ê°€ì§€ ì•½ì„ í•œë²ˆì— ë³´ê´€í•˜ëŠ” ê²½ìš°ë„ í”í•˜ë¯€ë¡œ ì¤‘ì¥ë…„ì¸µì˜ ì•½ë¬¼ ì˜¤ìš© ë°©ì§€ê°€ ìš”êµ¬ë¨

### ì†”ë£¨ì…˜ ë° ëª©í‘œ 
- ì „ë¬¸ì˜ì•½í’ˆê³¼ ì¼ë°˜ì˜ì•½í’ˆ ë°ì´í„°ì…‹ì„ í™œìš©í•œ â€˜ì´ë¯¸ì§€ë¶„ë¥˜ ëª¨ë¸â€™ ìƒì„±
- ì‚¬ì§„ì„ ì°ì—ˆì„ ë•Œ í˜¹ì€ ê°–ê³  ìˆëŠ” ì‚¬ì§„ì„ ë„£ì—ˆì„ ë•Œ ì–´ë–¤ ì•½ì¸ì§€ ë¶„ë¥˜í•˜ê±°ë‚˜ ì•½ì˜ ì„±ë¶„ì„ ë‚˜íƒ€ë‚´ì£¼ëŠ” ì„œë¹„ìŠ¤ êµ¬í˜„
- ì‚¬ìš©ìê°€ ì‚¬ì§„ì„ ì°ê±°ë‚˜ ì—…ë¡œë“œí•˜ë©´ ë³µìš©í•˜ë©´ ì•ˆë˜ëŠ” ì•½ì´ ìˆëŠ” ê²½ìš° ì–´ë–¤ ì•½ì¸ì§€ ì•Œë ¤ì£¼ëŠ” ì›¹ì•± ì„œë¹„ìŠ¤ êµ¬í˜„ 
-> ì‚¬ì§„ í•œì¥ìœ¼ë¡œ ì•½ì—ëŒ€í•œ ì •ë³´ , ë³µìš© ì£¼ì˜ ì •ë³´ë¥¼ ì‰½ê²Œ ì•Œ ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ êµ¬í˜„ 


## ì£¼ìš” ê³¼ì • 
preprocessing and model training
- utils , engine ë“± common í•¨ìˆ˜ module í™”
- bounding box ì²˜ë¦¬ (gasussain blur , contour ë“±)
- ai hubì—ì„œ ë‹¤ìš´ë°›ì€ ì›ë³¸ íŒŒì¼ ì••ì¶• í•´ì œ , ë””ë ‰í† ë¦¬ ìƒì„± , ì´ë¯¸ì§€ ì´ë™ , ë ˆì´ë¸” ìƒì„± ìë™í™”
- ì´ë¯¸ì§€ ì •ë³´(json) ì„ ì ê·¹ í™œìš©í•´ ì´ë¯¸ì§€ ìµœì ì˜ í•™ìŠµ ë°ì´í„° ìƒì„± 
- yolov5 base gcs->colabì„ í†µí•œ model training 
- model ìµœì í™” 

front backend 
- html , js , css , fastapië¥¼ í™œìš©í•´ ì„œë¹„ìŠ¤ ì›¹ì•± êµ¬í˜„


## issueì •ë¦¬ 
### 1. preprocessing and model 
#### 1.1)bounding box ì²˜ë¦¬ and model í•™ìŠµ issue
- ìì²´ì ìœ¼ë¡œ bounding boxë¥¼ ì¶”ì¶œí•˜ëŠ” ì‘ì—…ì„ í•˜ê¸°ìœ„í•´ opencv gaussian blur , countourì‘ì—…ë“±ì„ í•´ì„œ bounding boxì¶”ì¶œ í›„ test  
issue : bouding box ê°€ ëª¨ì–‘ì— ë”°ë¼ ì•Œì•½ bounding boxë¥¼ ì œëŒ€ë¡œ ì¶”ì¶œ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìƒê¹€ 
issue : ë°°ê²½ noise ì²˜ë¦¬ ë¬¸ì œ

try1:  ë°ì´í„°ì— ì£¼ì–´ì§„ json íŒŒì¼ ë‚´ bouding box ì¢Œí‘œë¥¼ ì ê·¹ í™œìš©í•˜ë„ë¡ ë³€ê²½  
issue : yolov5 label í˜•ì‹ì— ë§ì¶°ì¤˜ì•¼ í•˜ëŠ” ë¬¸ì œ(x,yìì²´ê°€ yolov5ì¼ë•Œ ìƒëŒ€ ì¢Œí‘œì´ë¯€ë¡œ)

try2: ìƒëŒ€ì¢Œí‘œ ê¸°ì¤€ì— ë§ê²Œ ë¹„ìœ¨ ë³€ê²½ í›„ 640*640 crop ì´ë¯¸ì§€ë¥¼ demo modelì— í•™ìŠµì„ ì‹œí‚´ (ì¹ íŒ ì°¸ê³ )
issue : ìƒëŒ€ì¢Œí‘œê°€ 1ì´ ë„˜ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒ 

try3 : ì´ë¯¸ì§€ë¥¼ ì ˆë°˜ìœ¼ë¡œ resize 1/2 and resize í•œê±°ì— ë§ê²Œ bouding box ì¢Œí‘œ ë³€ê²½ í›„ í•™ìŠµ 
issue : gcs -> cloab mountì‹œ ì†ë„ ì €í•˜ 

try4 : cloab ê°€ìƒë¨¸ì‹ ìƒì—ì„œ ì§„í–‰í• ì‹œ
iusse : colab ê°€ìƒë¨¸ì‹  ìš©ëŸ‰ í•œì • issue 

try5: bounding box + padding 20 ë§Œí¼ë§Œ crop í›„ í•™ìŠµ 
issue : 50epoch model í•™ìŠµì‹œ 23epochê¹Œì§€ í•˜ê³  ë©ˆì¶°ë²„ë¦¬ëŠ” ë¬¸ì œ(colab bug) 



#### 1.2) csv ì „ì²˜ë¦¬ issue  
- ë°ì´í„° í™•ë³´ ë° json ì •ë³´ csv íŒŒì¼ ë³€í™˜ 
try 1: json image ì •ë³´ csv íŒŒì¼ í˜•íƒœë¡œ ë³€í™˜ module í™”
issue : csv ë°ì´í„° ìì²´ ì´ìƒì¹˜ , ë¹„ì •ê·œí™” ë¬¸ì œ / í•„ìš”ì—†ëŠ”ì—´ì´ ë§ì€ ë¬¸ì œ

try 2 : ë°ì´í„° ì „ì²˜ë¦¬ (ì •ê·œí™” , ì´ìƒì¹˜ì œê±° , ê²°ì¸¡ì¹˜ë§ì€ì—´ ì œê±° , í•„ìš”ì—†ëŠ”ì—´ ì œê±°)
issue : issue ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•˜ê¸°ì— í•„ìš”í•œ ì •ë³´ê°€ ë¶€ì¡±

try 3 : ì¶”ê°€ ë°ì´í„° í™•ë³´ ë° í’ˆëª©ì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ csv merge ì‹œë„
- ê´€ë ¨ ë°ì´í„° : ë³‘ìš©ê¸ˆì§€ì•½ë¬¼ , ì¤‘ë³µì£¼ì˜ì•½ë¬¼ , ì•½ì—ëŒ€í•œì„¸ë¶€ì •ë³´ data 
issue : ì›ë³¸ ë°ì´í„°ë‘ ê²¹ì¹˜ì§€ ì•ŠëŠ” ì•½ì´ ë§ì•˜ìŒ  

try 4 : ì‚¬ìš©ìê°€ ì—…ë¡œë“œ ë˜ëŠ” ì´¬ì˜í•œ ì´ë¯¸ì§€ì— ëŒ€í•œ ì •ë³´ì—ë§Œ ë§¤ì¹­ì‹œí‚¤ëŠ” logic êµ¬í˜„ 
issue : ê²¹ì¹˜ì§€ ì•ŠëŠ” ë°ì´í„°ê°€ ë§ì€ ë¬¸ì œ(í•œê³„ì )


------------------------------------------------------------------------------------------------------------------------------

### 2)ë°ì´í„° ìš©ëŸ‰ ë¬¸ì œ + ì—°ë™ ë¬¸ì œ (4.4TB)
- ë°ì´í„°ë¥¼ ë‹¤ìš´ë°›ê³  ì••ì¶•ì„ í’€ê³  í•˜ëŠ” ê³¼ì • ì‹œë„
main issue : ë°ì´í„° ìš©ëŸ‰ issueë¡œ localì— ë°ì´í„°ë¥¼ ë‹¤ìš´í•˜ëŠ”ê²ƒì´ ë¶ˆê°€ëŠ¥
try1 : GCSìƒì— ë°ì´í„°ë¥¼ ë‹¤ìš´ ë°›ìœ¼ë ¤ ì‹œë„ 

issue : ai hub ìì²´ë°©ì‹(innor ixes) ì´ GCSë¡œ ë°”ë¡œ ê°€ëŠ” ë°©ë²•ì´ ì—†ëŠ” ë¬¸ì œ
try2 : ë°ì´í„°ë¥¼ ì™¸ì¥í•˜ë“œì— ë‹¤ìš´ ë°›ëŠ” ë°©ë²• ì„ íƒ 

issue : ì™¸ì¥í•˜ë“œì—ì„œ ì••ì¶•ì„ í‘¸ëŠ” ê³¼ì • , ì´ë¯¸ì§€ë¥¼ ìë¥´ëŠ” ê³¼ì •ì´ ì‹œê°„ì  ë¬¸ì œ ìƒê¹€   , python unzip bugë¡œ ì¸í•´ íŒŒì¼ ëˆ„ë½ ë¬¸ì œ 
try3 : shell code ë¥¼ í™œìš©í•´ ì™¸ì¥í•˜ë“œ(local)ì—ì„œ GCSìƒìœ¼ë¡œ ì••ì¶•ì„ ìë™ìœ¼ë¡œ í’€ê³  cropí•´ì£¼ëŠ” process êµ¬í˜„(gcs i/o shell scripts ëª…ë ¹ì–´ ì‚¬ìš© í•„ìˆ˜)
issue : GCS uploadì‹œ ë°”ìš°ì²˜ë¬¸ì œë¡œ ë¹„ìš©ì´ ë°œìƒí•´ 20% í•˜ê³  ì¤‘ë‹¨ 

try4 : 20%(92ë§Œì¥) ì´ë¯¸ì§€ ë°ì´í„°ë¡œ  ë¼ë²¨ë§ ë° BBOXë¥¼ ì¶”ì¶œí•´ì•¼í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰
issue : ì „ì²´ ë°ì´í„°ì…‹(250ë§Œ row)ì—ì„œ 92ë§Œì¥ê³¼ ì¼ì¹˜í•˜ëŠ” í•­ëª©ë§Œ ì¶”ì¶œí–ˆìœ¼ë‚˜ ì†ë„ ì €í•˜ ë¬¸ì œ ë°œìƒ 
issue : label 110ë§Œê°œ ì´ìƒ ìƒì„±ì‹œ ì†ë„ ì €í•˜í˜„ìƒë°œìƒ

try5: 110ë§Œê°œì”© ëŠì–´ì„œ label ìƒì„± 

issue : ì´ë¯¸ì§€ ë° ë¼ë²¨ ë°ì´í„° 180ë§Œê°œ í•™ìŠµ ì‹œë„ì‹œ colab gpu cuda out of memory ë°œìƒ
try6 : ì´ë¯¸ì§€ ë°ì´í„° ë¼ë²¨ë‹¹ 200ê°œì”© ë¹„ìœ¨ ë§ì¶° 42ë§Œê°œë¡œ ê°œìˆ˜ ì¤„ì—¬ì¤Œ

issue : ë°°ì¹˜ì‚¬ì´ì¦ˆ 128,64 ì‹œë„ì‹œ colab gpu cuda out of memory ë°œìƒ
issue : yaml íŒŒì¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì—¬ í•™ìŠµì‹œë„ì‹œ í•™ìŠµë¥ 0% ë°œìƒ
try7 : ì´ë¯¸ì§€ ë¼ë²¨ ìƒˆë¡œì¶”ì¶œ ë° yaml ì¬ìƒì„± í›„ í•™ìŠµ ì‹œë„, ë°°ì¹˜ì‚¬ì´ì¦ˆ 32ê¹Œì§€ì¤„ì—¬ì„œ í•™ìŠµ ì§„í–‰


- ë°ì´í„° ìš©ëŸ‰ ì¤„ì´ê¸° ì‹œë„
main issue : unzip -> crop -> GCS ê³¼ì •ì— ë°ì´í„° í¬ê¸°ê°€ ì—¬ì „íˆ ì••ë„ì ìœ¼ë¡œ í¼ 
try1 : ì´ë¯¸ì§€ë¥¼ ì¤‘ì•™ ê¸°ì¤€ìœ¼ë¡œ 640*640í¬ê¸°ë¡œ ë°”ê¿” ì €ì¥ (ìš©ëŸ‰ 1/10ì •ë„ë¡œ ì¤„ìŒ)
try2 : resize 1/2 
try3 : bouding box + padding 20

---------------------------------------------------------------------------------------------------------

### 3) backend & frontend êµ¬ì¶• ë¬¸ì œ 
- ì‚¬ì§„ì„ ì—…ë¡œë“œ ë˜ëŠ” ì´¬ì˜í•˜ë©´ best model ì„ íƒ€ê³  í™”ë©´ìƒì— detection image  + image information êµ¬í˜„ ì‹œë„ 
main issue : backend tool í™œìš© ì„ íƒ ë¬¸ì œ 
try1 : django ë¥¼ í™œìš©í•œ yolov5 ì„œë¹„ìŠ¤ êµ¬í˜„ ì‹œë„ 
issue : ìµìˆ™í•˜ì§€ ì•Šì€ toolê³¼ ì°¸ê³  referenceìë£Œ ë¶€ì¡±ìœ¼ë¡œ ë³€ê²½ 
try2 : python web library streamit ì„ í™œìš©í•œ backend ì„œë¹„ìŠ¤ êµ¬í˜„ ì‹œë„ 
issue : ì„œë¹„ìŠ¤ëŠ” êµ¬í˜„ ë˜ì—ˆìœ¼ë‚˜ frontend ì™€ ì—°ê²° ê³¼ì •ì—ì„œ ì„œë²„ë¥¼ 2ê°œ opení•´ì•¼ í•œë‹¤ëŠ” ë¬¸ì œ ìƒê¹€(ìœ ì§€ ë³´ìˆ˜ë©´ ë¹„íš¨ìœ¨ì )
try3 : flaskë¥¼ í™œìš©í•´ image upload detection  , caputre and detection ë¶€ë¶„ êµ¬í˜„ì„±ê³µ 
issue : 4ì°¨ ë©˜í† ë§ì„ í†µí•œ í”¼ë“œë°±ìœ¼ë¡œ fast apiê°€ ë” ì¢‹ê² ë‹¤ëŠ” í‰ê°€ë¥¼ ë°›ìŒ 
try4 : fast apië¥¼ í™œìš©í•´ backend êµ¬í˜„ (camera capture detection , image upload detedction)
issue : ìš”ì²­ë°›ì€ ì´ë¯¸ì§€ë¥¼ fetchë¡œ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì—ì„œ getì´ ì•ˆë˜ëŠ” issue ë°œìƒ (codeìˆ˜ì •ì™„ë£Œ)
try5 : frontend ìˆ˜ì • ë° docker í™˜ê²½ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥ í•˜ë„ë¡ êµ¬í˜„ 

