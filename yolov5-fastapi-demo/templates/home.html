<!-- This is a Jinja2 Template that extends layout.html
Implements a simple Bootstrap 5 form submission interface for YOLOv5 detection.
-->

{% extends "layout.html" %}

{% block title %} <title>Do You Know What You Are Taking?</title> {% endblock %}

{% block content %}
<div class="m-2">
  <h5>사진을 찍어주세요.</h5>

  <hr/>
  <body>
    <!-- Main content of the HTML -->
    <main id="camera">
      <!-- Camera view -->
      <!-- canvas: Area for drawing graphics on a web page -->
      <canvas id="camera-view"></canvas>
  
      <!-- Camera device -->
      <!-- Play the video streaming in "camera-view" -->
      <video id="camera-device" autoplay playsinline></video>
  
      <!-- Photo display -->
      <img alt="" id="photo-display" />
  
      <div id="camera-button" class="d-grid gap-2">
        <!-- Front camera button -->
        <button id="front-camera-button" class="btn btn-secondary mx-4">
          전면 카메라
        </button>
  
        <!-- Take photo button -->
        <button id="take-photo-button" class="btn btn-primary mx-4">
          사진 찍기
        </button>
  
        <!-- Send photo button -->
        <button id="send-photo-button" class="btn btn-primary mx-4">
          사진 전송
        </button>
      </div>
    </main>
  
    <!-- Reference to the JavaScript file -->
    <script src="scripts/capture.js"></script>
  </body>
  
  <form method="post" action="" enctype="multipart/form-data">
    <div class="my-2">
      <label for="file_list" class="form-label">Upload Images</label>
      <input class="form-control w-auto" type="file" name="file_list" id="file_list" multiple>
    </div>
    <div class="my-2">
      <div class="form-group">
        <label>Select YOLO Model</label>
      </div>
      <select class="form-select w-auto" name="model_name">
        {% for selection in model_selection_options %}
          <option value="{{ selection }}">{{ selection }}</option>
        {% endfor %}      
      </select>
    </div>
    <div class="my-2">
      <label for="img_size_input" class="form-label">Model Inference Size</label>
      <input type="text" class="form-control w-auto" id="img_size_input" name="img_size" value="640">
    </div>

    <button class="btn btn-primary" type="submit">Submit</button>
  </form>
</div>

{% endblock %}